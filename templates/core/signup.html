{% extends 'base.html' %}
{% load i18n %}
{% load multilingual %}

{% block title %}{% trans "Sign Up" %} - {% trans "Legal Platform" %}{% endblock %}

{% block content %}
<div class="min-h-[80vh] flex items-center justify-center py-12 px-4 relative overflow-hidden">
    <!-- Background decorations -->
    <div class="absolute inset-0 bg-gradient-to-br from-indigo-50 via-white to-purple-50"></div>
    <div class="absolute top-20 right-10 w-72 h-72 bg-indigo-200/30 rounded-full blur-3xl "></div>
    <div class="absolute bottom-20 left-10 w-80 h-80 bg-purple-200/30 rounded-full blur-3xl "></div>
    
    <div class="max-w-md w-full relative z-10">
        <div class="text-center mb-8">
            <div class="inline-block text-5xl mb-4  ">‚öñÔ∏è</div>
            <h1 class="text-2xl font-bold mb-2 translatable" data-translate="Create Account">{% trans "Create Account" %}</h1>
            <p class="opacity-60 translatable" data-translate="Join our legal services platform">{% trans "Join our legal services platform" %}</p>
        </div>
        
        <div class="card bg-base-100 shadow-2xl">
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                    <div class="alert alert-error mb-4">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                        <span>{% for error in form.non_field_errors %}{{ error }}{% endfor %}</span>
                    </div>
                    {% endif %}
                    
                    <div class="space-y-4">
                        <!-- Name Fields -->
                        <div class="grid grid-cols-2 gap-4">
                            <div class="form-control">
                                <label class="label" for="id_first_name">
                                    <span class="label-text translatable" data-translate="First Name">{% trans "First Name" %}</span>
                                </label>
                                <input type="text" name="first_name" id="id_first_name" class="input input-bordered {% if form.first_name.errors %}input-error{% endif %}"
                                       value="{{ form.first_name.value|default:'' }}"
                                       placeholder="{% trans 'John' %}" required>
                                {% if form.first_name.errors %}
                                <label class="label"><span class="label-text-alt text-error">{{ form.first_name.errors.0 }}</span></label>
                                {% endif %}
                            </div>
                            <div class="form-control">
                                <label class="label" for="id_last_name">
                                    <span class="label-text translatable" data-translate="Last Name">{% trans "Last Name" %}</span>
                                </label>
                                <input type="text" name="last_name" id="id_last_name" class="input input-bordered {% if form.last_name.errors %}input-error{% endif %}"
                                       value="{{ form.last_name.value|default:'' }}"
                                       placeholder="{% trans 'Doe' %}" required>
                                {% if form.last_name.errors %}
                                <label class="label"><span class="label-text-alt text-error">{{ form.last_name.errors.0 }}</span></label>
                                {% endif %}
                            </div>
                        </div>
                        
                        <!-- Username -->
                        <div class="form-control">
                            <label class="label" for="id_username">
                                <span class="label-text translatable" data-translate="Username">{% trans "Username" %}</span>
                            </label>
                            <div class="join w-full">
                                <span class="join-item btn btn-ghost pointer-events-none">üë§</span>
                                <input type="text" name="username" id="id_username" class="input input-bordered join-item flex-1 {% if form.username.errors %}input-error{% endif %}"
                                       value="{{ form.username.value|default:'' }}"
                                       placeholder="{% trans 'johndoe' %}" required>
                            </div>
                            {% if form.username.errors %}
                            <label class="label"><span class="label-text-alt text-error">{{ form.username.errors.0 }}</span></label>
                            {% endif %}
                        </div>
                        
                        <!-- Email -->
                        <div class="form-control">
                            <label class="label" for="id_email">
                                <span class="label-text translatable" data-translate="Email">{% trans "Email" %}</span>
                            </label>
                            <div class="join w-full">
                                <span class="join-item btn btn-ghost pointer-events-none">üìß</span>
                                <input type="email" name="email" id="id_email" class="input input-bordered join-item flex-1 {% if form.email.errors %}input-error{% endif %}"
                                       value="{{ form.email.value|default:'' }}"
                                       placeholder="{% trans 'john@example.com' %}" required>
                            </div>
                            {% if form.email.errors %}
                            <label class="label"><span class="label-text-alt text-error">{{ form.email.errors.0 }}</span></label>
                            {% endif %}
                        </div>
                        
                        <!-- Phone (optional) -->
                        <div class="form-control">
                            <label class="label" for="id_phone">
                                <span class="label-text"><span class="translatable" data-translate="Phone">{% trans "Phone" %}</span> <span class="opacity-50 translatable" data-translate="(optional)">{% trans "(optional)" %}</span></span>
                            </label>
                            <div class="join w-full">
                                <span class="join-item btn btn-ghost pointer-events-none">üì±</span>
                                <input type="tel" name="phone" id="id_phone" class="input input-bordered join-item flex-1 {% if form.phone.errors %}input-error{% endif %}"
                                       value="{{ form.phone.value|default:'' }}"
                                       placeholder="+91 98765 43210">
                            </div>
                            {% if form.phone.errors %}
                            <label class="label"><span class="label-text-alt text-error">{{ form.phone.errors.0 }}</span></label>
                            {% endif %}
                        </div>
                        
                        <!-- Password -->
                        <div class="form-control">
                            <label class="label" for="id_password1">
                                <span class="label-text translatable" data-translate="Password">{% trans "Password" %}</span>
                            </label>
                            <div class="join w-full">
                                <span class="join-item btn btn-ghost pointer-events-none">üîí</span>
                                <input type="password" name="password1" id="id_password1" class="input input-bordered join-item flex-1 {% if form.password1.errors %}input-error{% endif %}"
                                       placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            </div>
                            {% if form.password1.errors %}
                            <label class="label"><span class="label-text-alt text-error">{{ form.password1.errors.0 }}</span></label>
                            {% endif %}
                        </div>
                        
                        <!-- Confirm Password -->
                        <div class="form-control">
                            <label class="label" for="id_password2">
                                <span class="label-text translatable" data-translate="Confirm Password">{% trans "Confirm Password" %}</span>
                            </label>
                            <div class="join w-full">
                                <span class="join-item btn btn-ghost pointer-events-none">üîí</span>
                                <input type="password" name="password2" id="id_password2" class="input input-bordered join-item flex-1 {% if form.password2.errors %}input-error{% endif %}"
                                       placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            </div>
                            {% if form.password2.errors %}
                            <label class="label"><span class="label-text-alt text-error">{{ form.password2.errors.0 }}</span></label>
                            {% endif %}
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block mt-6 gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/></svg>
                        <span class="translatable" data-translate="Create Account">{% trans "Create Account" %}</span>
                    </button>
                </form>
                
                <div class="divider translatable" data-translate="OR">{% trans "OR" %}</div>
                
                <!-- Social Auth Buttons -->
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <a href="/accounts/google/login/?next={% url 'social_auth_callback' %}" class="btn btn-outline gap-2 hover:bg-red-50">
                        <svg class="w-5 h-5" viewBox="0 0 24 24"><path fill="#EA4335" d="M5.26620003,9.76452941 C6.19878754,6.93863203 8.85444915,4.90909091 12,4.90909091 C13.6909091,4.90909091 15.2181818,5.50909091 16.4181818,6.49090909 L19.9090909,3 C17.7818182,1.14545455 15.0545455,0 12,0 C7.27006974,0 3.1977497,2.69829785 1.23999023,6.65002441 L5.26620003,9.76452941 Z"/><path fill="#34A853" d="M16.0407269,18.0125889 C14.9509167,18.7163016 13.5660892,19.0909091 12,19.0909091 C8.86648613,19.0909091 6.21911939,17.076871 5.27698177,14.2678769 L1.23746264,17.3349879 C3.19279051,21.2936293 7.26500293,24 12,24 C14.9328362,24 17.7353462,22.9573905 19.834192,20.9995801 L16.0407269,18.0125889 Z"/><path fill="#4A90E2" d="M19.834192,20.9995801 C22.0291676,18.9520994 23.4545455,15.903663 23.4545455,12 C23.4545455,11.2909091 23.3454545,10.5272727 23.1818182,9.81818182 L12,9.81818182 L12,14.4545455 L18.4363636,14.4545455 C18.1187732,16.013626 17.2662994,17.2212117 16.0407269,18.0125889 L19.834192,20.9995801 Z"/><path fill="#FBBC05" d="M5.27698177,14.2678769 C5.03832634,13.556323 4.90909091,12.7937589 4.90909091,12 C4.90909091,11.2182781 5.03443647,10.4668121 5.26620003,9.76452941 L1.23999023,6.65002441 C0.43658717,8.26043162 0,10.0753848 0,12 C0,13.9195484 0.444780743,15.7301709 1.23746264,17.3349879 L5.27698177,14.2678769 Z"/></svg>
                        <span class="translatable" data-translate="Google">{% trans "Google" %}</span>
                    </a>
                    <a href="/accounts/github/login/?next={% url 'social_auth_callback' %}" class="btn btn-outline gap-2 hover:bg-gray-100">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                        <span class="translatable" data-translate="GitHub">{% trans "GitHub" %}</span>
                    </a>
                </div>
                
                <p class="text-center">
                    <span class="translatable" data-translate="Already have an account?">{% trans "Already have an account?" %}</span>
                    <a href="{% url 'login' %}" class="link link-primary font-medium translatable" data-translate="Sign In">{% trans "Sign In" %}</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
